# Python

## 常用脚本

### 如何测试 `isinstance()` 和 `type()` 的执行性能

```sh
# Python 3.11.8

$ python -m timeit -s "variable = 'hello'" "isinstance(variable, str)"
20000000 loops, best of 5: 16.2 nsec per loop

$ python -m timeit -s "variable = 'hello'" "isinstance(variable, str)"
20000000 loops, best of 5: 14.9 nsec per loop
```

### 如何用 cProfile 测量代码执行效率

> [cProfile](https://docs.python.org/3/library/profile.html) and [profile](https://docs.python.org/3/library/profile.html#module-profile) provide deterministic profiling of Python programs. A profile is a set of statistics that describes how often and for how long various parts of the program executed. These statistics can be formatted into reports via the [pstats](https://docs.python.org/3/library/profile.html#module-pstats) module.

<details>
  <summary>cProfile_examples.py</summary>

```py
@import('snippets/cProfile_examples.py')
```

</details>

### 如何爬取 bing 壁纸并写入文件

[bing 壁纸数据实例数据](https://mouday.github.io/wallpaper-database/2024/03/20.json)

<details>
  <summary>crawl_bing_wallpaper.py</summary>

```py
@import('snippets/crawl_bing_wallpaper.py')
```

</details>
